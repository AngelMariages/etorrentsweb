!function(a){function b(b){var c=this;if(this.$el=a(b),this.images=this.$el.data("images"),this.config=this.$el.data("config"),0!=this.config&&this.config){var d=jQuery.map(this.images,function(a){return{src:a.src,opts:{caption:a.opts.caption,thumb:a.opts.thumb,image_id:a.opts.image_id}}});this.config.lightboxOpts.beforeLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_load",[c,this])},this.config.lightboxOpts.afterLoad=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_load",[c,this])},this.config.lightboxOpts.beforeShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_show",[c,this])},this.config.lightboxOpts.afterShow=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_show",[c,this])},this.config.lightboxOpts.beforeClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_before_close",[c,this])},this.config.lightboxOpts.afterClose=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_after_close",[c,this])},this.config.lightboxOpts.onInit=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_init",[c,this])},this.config.lightboxOpts.onActivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_activate",[c,this])},this.config.lightboxOpts.onDeactivate=function(){jQuery(document).trigger("modula_link_fancybox_lightbox_on_deactivate",[c,this])},this.$el.click(function(b){b.preventDefault(),"undefined"!=typeof a.modulaFancybox&&a.modulaFancybox.open(d,c.config.lightboxOpts)}),a(document).trigger("modula_link_api_after_init",[c])}}b.prototype.open=function(b){var c=this;"undefined"!=typeof a.modulaFancybox&&a.modulaFancybox.open(c.images,c.config.lightboxOpts,b)},jQuery(document).ready(function(a){var c=a(".modula-link");a.each(c,function(){new b(this)})})}(jQuery);