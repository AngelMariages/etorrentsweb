(()=>{var e={585:()=>{var e=wp.data.registerStore,t={launching:!1};e("fl-builder",{reducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_LAUNCHING":e.launching=n.launching}return e},actions:{setLaunching:function(e){return{type:"SET_LAUNCHING",launching:e}}},selectors:{isLaunching:function(e){return e.launching}}})}},t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}var t=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=window||{},i=r.wp,c=void 0===i?{}:i,u=c.data,l=void 0===u?{}:u,s=c.blocks,a=void 0===s?{}:s,f=l.dispatch,p=l.select,d=a.createBlock,b=f("core/block-editor"),y=b.replaceBlock,h=function(e){var t=e.name,n=void 0===t?"":t,o=e.attributes,r=void 0===o?{}:o,i=e.innerBlocks;return d(n,r,void 0===i?[]:i)},v=null!==n&&"object"===e(n)&&null!==n.clientId&&"string"==typeof n.clientId;if(!0!==v)return!1;var m=p("core/block-editor").getBlock(n.clientId);if(!0!=!m){var g=m.clientId,k=void 0===g?"":g,w=m.isValid,B=void 0===w||w,S=m.innerBlocks,P=void 0===S?[]:S,O=null!==P&&Array.isArray(P)&&P.length>=1;if(!0!==B){var R=h(m);y(k,R),!0===o&&c.data.dispatch("core/editor").savePost()}O&&P.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(e,o)}))}return!1},o=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=window||{},o=n.wp,r=void 0===o?{}:o,i=r.domReady,c=r.data,u=void 0===c?{}:c,l=u.select;i((function(){setTimeout((function(){var n=l("core/block-editor").getBlocks();!0===(Array.isArray(n)&&n.length>=1)&&n.forEach((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t(n,e)}))}),1)}))};var r=(window||{}).wp,i=void 0===r?{}:r,c=i.domReady,u=i.data;jQuery(document).on("fl-builder-fix-blocks",(function(){!0===(!0===(!0===jQuery("body").hasClass("post-php")&&jQuery(".block-editor").length>=1&&jQuery("body").hasClass("fl-builder-blocks"))&&!0===(void 0!==c&&void 0!==u))&&o(!1)}));n(585);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=b(e);if(t){var r=b(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return d(this,n)}}function d(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var y=FLBuilderConfig,h=y.builder,v=y.strings,m=y.urls,g=wp.blocks,k=g.rawHandler,w=g.serialize,B=wp.components,S=B.Button,P=B.Placeholder,O=B.Spinner,R=wp.compose.compose,C=wp.data,L=C.withDispatch,j=C.withSelect,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(i,e);var t,n,o,r=p(i);function i(){return s(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.toggleEditor("enable")}},{key:"render",value:function(){var e,t,n,o=this.props,r=o.blockCount,i=(o.onReplace,o.isLaunching);return 1===r?(e=h.access?v.launch:v.view,t=this.launchBuilder.bind(this)):(e=v.convert,t=this.convertToBuilder.bind(this)),n=h.enabled?v.active:v.description,!1===h.showui?"":React.createElement(P,{key:"placeholder",instructions:n,icon:"welcome-widgets-menus",label:v.title,className:"fl-builder-layout-launch-view"},i&&React.createElement(O,null),!i&&React.createElement(S,{isLarge:!0,isPrimary:!0,type:"submit",onClick:t},e),!i&&React.createElement(S,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},v.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,n="fl-builder-layout-enabled";"enable"===e?t.contains(n)&&t.remove(n):t.contains(n)||t.add(n)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t().then((function(){setTimeout((function(){window.location.href=h.access?m.edit:m.view}),2e3)}))}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,n=e.blocks,o=e.setAttributes,r=e.removeBlocks,i=w(n),c=n.map((function(e){return e.clientId})).filter((function(e){return e!==t}));o({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,n=e.clientId,o=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(v.warning)||(t.content?o([n],k({HTML:t.content,mode:"BLOCKS"})):r([]))}}])&&a(t.prototype,n),o&&a(t,o),i}(wp.element.Component),_=R(L((function(e,t){var n=e("core/block-editor"),o=e("core/editor"),r=e("fl-builder");return{removeBlocks:n.removeBlocks,replaceBlocks:n.replaceBlocks,savePost:o.savePost,setLaunching:r.setLaunching}})),j((function(e){var t=e("core/block-editor"),n=(e("core/editor"),e("fl-builder"));return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isLaunching:n.isLaunching()}})))(E);function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function F(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=A(e);if(t){var r=A(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?N(e):t}function N(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function A(e){return(A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var H=FLBuilderConfig,Q=H.builder,U=H.strings,G=H.urls,z=wp.blocks,K=z.rawHandler,W=z.serialize,V=wp.components,q=V.Button,J=V.Placeholder,X=V.Spinner,Y=wp.compose.compose,Z=wp.data,$=Z.subscribe,ee=Z.withDispatch,te=Z.withSelect,ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(i,e);var t,n,o,r=F(i);function i(){var e;return I(this,i),(e=r.apply(this,arguments)).unsubscribe=$(e.storeDidUpdate.bind(N(e))),e}return t=i,(n=[{key:"storeDidUpdate",value:function(){var e=this.props,t=e.isLaunching,n=e.isSavingPost;t&&!n&&(this.unsubscribe(),this.redirectToBuilder())}},{key:"componentDidMount",value:function(){1===this.props.blockCount&&this.toggleEditor("disable")}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.toggleEditor("enable")}},{key:"render",value:function(){var e,t,n,o=this.props,r=o.blockCount,i=(o.onReplace,o.isLaunching);return 1===r?(e=Q.access?U.launch:U.view,t=this.launchBuilder.bind(this)):(e=U.convert,t=this.convertToBuilder.bind(this)),n=Q.enabled?U.active:U.description,!1===Q.showui?"":React.createElement(J,{key:"placeholder",instructions:n,icon:"welcome-widgets-menus",label:U.title,className:"fl-builder-layout-launch-view"},i&&React.createElement(X,null),!i&&React.createElement(q,{isLarge:!0,isPrimary:!0,type:"submit",onClick:t},e),!i&&React.createElement(q,{isLarge:!0,type:"submit",onClick:this.convertToBlocks.bind(this)},U.editor))}},{key:"toggleEditor",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"enable",t=document.body.classList,n="fl-builder-layout-enabled";"enable"===e?t.contains(n)&&t.remove(n):t.contains(n)||t.add(n)}},{key:"redirectToBuilder",value:function(){window.location.href=Q.access?G.edit:G.view}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.clientId,n=e.blocks,o=e.setAttributes,r=e.removeBlocks,i=W(n),c=n.map((function(e){return e.clientId})).filter((function(e){return e!==t}));o({content:i.replace(/<!--(.*?)-->/g,"")}),r(c),this.launchBuilder()}},{key:"convertToBlocks",value:function(){var e=this.props,t=e.attributes,n=e.clientId,o=e.replaceBlocks,r=e.onReplace;t.content&&!confirm(U.warning)||(t.content?o([n],K({HTML:t.content,mode:"BLOCKS"})):r([]))}}])&&D(t.prototype,n),o&&D(t,o),i}(wp.element.Component),oe=Y(ee((function(e,t){var n=e("core/editor"),o=e("fl-builder");return{savePost:n.savePost,removeBlocks:n.removeBlocks,replaceBlocks:n.replaceBlocks,setLaunching:o.setLaunching}})),te((function(e){var t=e("core/editor"),n=e("fl-builder");return{blockCount:t.getBlockCount(),blocks:t.getBlocks(),isSavingPost:t.isSavingPost(),isLaunching:n.isLaunching()}})))(ne),re=FLBuilderConfig,ie=re.builder,ce=re.strings,ue=FLBuilderConfig.wp.version,le=wp.blocks.registerBlockType,se=wp.element.RawHTML;function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function de(e,t){return(de=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=he(e);if(t){var r=he(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==ae(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function he(e){return(he=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}(ie.access&&ie.unrestricted||ie.enabled)&&le("fl-builder/layout",{title:ce.title,description:ce.description,icon:"welcome-widgets-menus",category:"layout",useOnce:!0,supports:{customClassName:!1,className:!1,html:!1},attributes:{content:{type:"string",source:"html"}},edit:parseFloat(ue)<5.3?oe:_,save:function(e){var t=e.attributes;return React.createElement(se,null,t.content)}});var ve=FLBuilderConfig,me=ve.builder,ge=ve.strings,ke=ve.urls,we=wp.blocks,Be=we.createBlock,Se=we.serialize,Pe=(wp.components.Button,wp.compose.compose),Oe=wp.data,Re=Oe.withDispatch,Ce=Oe.withSelect,Le=wp.editPost.PluginMoreMenuItem,je=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&de(e,t)}(i,e);var t,n,o,r=be(i);function i(){return fe(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return this.hasBuilderBlock()&&(jQuery("body").addClass("fl-builder-blocks"),jQuery(document).trigger("fl-builder-fix-blocks")),React.createElement(Le,{onClick:this.menuItemClicked.bind(this)},this.hasBuilderBlock()?ge.launch:ge.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter((function(e){return"fl-builder/layout"===e.name})).length}},{key:"menuItemClicked",value:function(){this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder()}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,n=e.insertBlock,o=e.removeBlocks,r=t.map((function(e){return e.clientId})),i=Se(t).replace(/<!--(.*?)-->/g,"");n(Be("fl-builder/layout",{content:i}),0),o(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t().then((function(){setTimeout((function(){window.location.href=me.access?ke.edit:ke.view}),2e3)}))}}])&&pe(t.prototype,n),o&&pe(t,o),i}(wp.element.Component),Ee=Pe(Re((function(e,t){var n=e("core/block-editor"),o=e("core/editor"),r=e("fl-builder");return{insertBlock:n.insertBlock,removeBlocks:n.removeBlocks,savePost:o.savePost,setLaunching:r.setLaunching}})),Ce((function(e){return{blocks:e("core/block-editor").getBlocks()}})))(je);function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Te(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ie(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=Me(e);if(t){var r=Me(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return Fe(this,n)}}function Fe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ne=FLBuilderConfig.strings,Ae=wp.blocks,He=Ae.createBlock,Qe=Ae.serialize,Ue=(wp.components.Button,wp.compose.compose),Ge=wp.data,ze=Ge.withDispatch,Ke=Ge.withSelect,We=wp.editPost.PluginSidebarMoreMenuItem,Ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(i,e);var t,n,o,r=xe(i);function i(){return Te(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){return React.createElement(We,null,React.createElement("div",{className:"fl-builder-plugin-sidebar-button",onClick:this.menuItemClicked.bind(this)}),this.hasBuilderBlock()?Ne.launch:Ne.convert)}},{key:"hasBuilderBlock",value:function(){return!!this.props.blocks.filter((function(e){return"fl-builder/layout"===e.name})).length}},{key:"menuItemClicked",value:function(){var e=this.props.closeGeneralSidebar;this.hasBuilderBlock()?this.launchBuilder():this.convertToBuilder(),setTimeout(e,100)}},{key:"convertToBuilder",value:function(){var e=this.props,t=e.blocks,n=e.insertBlock,o=e.removeBlocks,r=t.map((function(e){return e.clientId})),i=Qe(t).replace(/<!--(.*?)-->/g,"");n(He("fl-builder/layout",{content:i}),0),o(r)}},{key:"launchBuilder",value:function(){var e=this.props,t=e.savePost;(0,e.setLaunching)(!0),t()}}])&&Ie(t.prototype,n),o&&Ie(t,o),i}(wp.element.Component),qe=Ue(ze((function(e,t){var n=e("core/editor"),o=e("core/edit-post"),r=e("fl-builder");return{savePost:n.savePost,insertBlock:n.insertBlock,removeBlocks:n.removeBlocks,closeGeneralSidebar:o.closeGeneralSidebar,setLaunching:r.setLaunching}})),Ke((function(e){return{blocks:e("core/editor").getBlocks()}})))(Ve),Je=FLBuilderConfig.wp.version;(0,wp.plugins.registerPlugin)("fl-builder-plugin-sidebar",{icon:"welcome-widgets-menus",render:parseFloat(Je)<5.3?qe:Ee})})()})();